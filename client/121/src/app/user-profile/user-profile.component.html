<div class="main-content">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <div class="card">
                    <!-- <div class="card-header card-header-danger">
                        <h4 class="card-title">View Your User List</h4>
                        <p class="card-category">Complete your User</p>
                    </div> -->
                    <div class="card-body">
                        <div id="typography">
                            <div class="card-title">
                                <h2>Students</h2>
                                <!-- 
                                <a [routerLink]="['/add-Faculty']" role="button" style="font-weight: bold">
                                    <img src="./assets/img/faces/addbox.svg" alt="" width="30px"> Add New User</a> -->
                            </div>
                            <div class="row">
                                <div class="col-md-3">   
                                    <label>Show&nbsp;&nbsp;</label>
                                    <select class="col-md-2" style="text-align: center"
                                            [(ngModel)]="condition.PageSize"
                                            (change)="setItemPerPage()">
                                        <option value=10 [selected]="10 === condition.PageSize">10</option>
                                        <option value=20 [selected]="20 === condition.PageSize">20</option>
                                        <option value=50 [selected]="50=== condition.PageSize">50</option>
                                        <option value=100 [selected]="100 === condition.PageSize">100</option>
                                        <option value=200 [selected]="200 === condition.PageSize">200</option>
                                    </select>
                                    <label>&nbsp;&nbsp;entries.</label>
                                </div>
                            </div>
                            <div class="row">
                                <div class="card-body col-md-12">
                                    <div class="table-responsive  ">
                                        <table class="table table-striped table-hover">
                                            <thead class=" text-primary">
                                                <th style="text-align: center;">
                                                    #
                                                </th>
                                                <!-- <th>
                                                    Username
                                                </th> -->
                                                <!-- Sort by username -->
                                                <th style="text-align: center;" *ngIf="condition.Type === 'asc'" style="font-weight: bold;text-align: center;" scope="col" (click)="SortBy('username', 'desc')">
                                                    <b>Username</b>&nbsp;<i *ngIf="condition.Sort === 'username'" class="fa fa-sort-alpha-asc"></i>
                                                    <i *ngIf="condition.Sort !== 'username'" class="fa fa-sort-alpha-asc" style="opacity: 0.5;"></i>
                                                </th>
                                                <th style="text-align: center;" *ngIf="condition.Type === 'desc'" style="font-weight: bold;text-align: center;" scope="col" (click)="SortBy('username', 'asc')">
                                                    <b>Username</b>&nbsp;<i *ngIf="condition.Sort === 'username'" class="fa fa-sort-alpha-desc"></i>
                                                    <i *ngIf="condition.Sort !== 'username'" class="fa fa-sort-alpha-desc" style="opacity: 0.5;"></i>
                                                </th>
                                                      <!-- end -->
                                                <!-- <th>
                                                    Full Name
                                                </th> -->
                                                <th style="text-align: center;" *ngIf="condition.Type === 'asc'" style="font-weight: bold;text-align: center;" scope="col" (click)="SortBy('fullname', 'desc')">
                                                    <b>Full Name</b>&nbsp;<i *ngIf="condition.Sort === 'fullname'" class="fa fa-sort-alpha-asc"></i>
                                                    <i *ngIf="condition.Sort !== 'fullname'" class="fa fa-sort-alpha-asc" style="opacity: 0.5;"></i>
                                                </th>
                                                <th style="text-align: center;" *ngIf="condition.Type === 'desc'" style="font-weight: bold;text-align: center;" scope="col" (click)="SortBy('fullname', 'asc')">
                                                    <b>Full Name</b>&nbsp;<i *ngIf="condition.Sort === 'fullname'" class="fa fa-sort-alpha-desc"></i>
                                                    <i *ngIf="condition.Sort !== 'fullname'" class="fa fa-sort-alpha-desc" style="opacity: 0.5;"></i>
                                                </th>
                                                      <!-- end -->
                                                <!-- <th>
                                                    Role
                                                </th> -->
                                                <!-- Sort by role name -->
                                                <!-- <th style="text-align: center;" *ngIf="condition.Type === 'asc'" style="font-weight: bold;text-align: center;" scope="col" (click)="SortBy('role', 'desc')">
                                                    <b>Role</b>&nbsp;<i *ngIf="condition.Sort === 'role'" class="fa fa-sort-alpha-asc"></i>
                                                    <i *ngIf="condition.Sort !== 'role'" class="fa fa-sort-alpha-asc" style="opacity: 0.5;"></i>
                                                </th>
                                                <th style="text-align: center;" *ngIf="condition.Type === 'desc'" style="font-weight: bold;text-align: center;" scope="col" (click)="SortBy('role', 'asc')">
                                                    <b>Role</b>&nbsp;<i *ngIf="condition.Sort === 'role'" class="fa fa-sort-alpha-desc"></i>
                                                    <i *ngIf="condition.Sort !== 'role'" class="fa fa-sort-alpha-desc" style="opacity: 0.5;"></i>
                                                </th> -->
                                                      <!-- end -->
                                                <!-- <th>
                                                    Faculty
                                                </th> -->

                                                <!-- Sort by faculty -->
                                                <th style="text-align: center;" *ngIf="condition.Type === 'asc'" style="font-weight: bold;text-align: center;" scope="col" (click)="SortBy('faculty', 'desc')">
                                                    <b>Faculty</b>&nbsp;<i *ngIf="condition.Sort === 'faculty'" class="fa fa-sort-alpha-asc"></i>
                                                    <i *ngIf="condition.Sort !== 'faculty'" class="fa fa-sort-alpha-asc" style="opacity: 0.5;"></i>
                                                </th>
                                                <th style="text-align: center;" *ngIf="condition.Type === 'desc'" style="font-weight: bold;text-align: center;" scope="col" (click)="SortBy('faculty', 'asc')">
                                                    <b>Faculty</b>&nbsp;<i *ngIf="condition.Sort === 'faculty'" class="fa fa-sort-alpha-desc"></i>
                                                    <i *ngIf="condition.Sort !== 'faculty'" class="fa fa-sort-alpha-desc" style="opacity: 0.5;"></i>
                                                </th>
                                                      <!-- end -->                                               
                                                <!-- <th>
                                                    Receive Email

                                                </th> -->
                                                <!-- <th>
                                                    Status
                                                </th> -->

                                                <!-- Sort by status -->
                                                <th style="text-align: center;" *ngIf="condition.Type === 'asc'" style="font-weight: bold;text-align: center;" scope="col" (click)="SortBy('status', 'desc')">
                                                    <b>Status</b>&nbsp;<i *ngIf="condition.Sort === 'status'" class="fa fa-sort-alpha-asc"></i>
                                                    <i *ngIf="condition.Sort !== 'status'" class="fa fa-sort-alpha-asc" style="opacity: 0.5;"></i>
                                                </th>
                                                <th style="text-align: center;" *ngIf="condition.Type === 'desc'" style="font-weight: bold;text-align: center;" scope="col" (click)="SortBy('status', 'asc')">
                                                    <b>Status</b>&nbsp;<i *ngIf="condition.Sort === 'status'" class="fa fa-sort-alpha-desc"></i>
                                                    <i *ngIf="condition.Sort !== 'status'" class="fa fa-sort-alpha-desc" style="opacity: 0.5;"></i>
                                                </th>
                                                      <!-- end -->
                                                <th style="text-align: center;">
                                                    Action
                                                </th>

                                            </thead>
                                            <tbody class="table_content">
                                                <tr *ngFor="let user of userList; let i=index">
                                                    <!-- | paginate: { itemsPerPage: 5, currentPage: p };
                                                                    "> -->
                                                    <td style="text-align: center;" scope="row">{{i + 1 + (condition.PageNumber-1)*condition.PageSize}}</td>
                                                    <td>{{user.username}}</td>
                                                    <td>{{user.fullName}}</td>
                                                    <!-- <td style="text-align: center;">{{user.role.name}}</td> -->
                                                    <td>{{user.faculty.name}}</td>
                                                   

                                                    <!-- <td *ngIf="userlist.isReceiveEmail">Yes -->
                                                        <!-- <input type="checkbox" checked data-toggle="toggle"> -->
                                                    <!-- </td> -->
                                                    <!-- <td *ngIf="!userlist.isReceiveEmail">No -->
                                                            <!-- <input type="checkbox" checked data-toggle="toggle"> -->
                                                    <!-- </td> -->
                                                    <td style="text-align: center;" *ngIf="user.username === 'admin@gmail.com'">
                                                            <input type="checkbox" disabled checked data-toggle="toggle" (click)="changeStatusUser(user.userID)">
                                                    </td>
                                                    <td style="text-align: center;" *ngIf="user.username !== 'admin@gmail.com' && user.isActive">
                                                            <input type="checkbox" checked data-toggle="toggle" (click)="changeStatusUser(user.userID)" title="Lock!">
                                                    </td>
                                                    <td style="text-align: center;" *ngIf="user.username !== 'admin@gmail.com' &&!user.isActive">
                                                            <input type="checkbox" data-toggle="toggle" (click)="changeStatusUser(user.userID)" title="Unblock!">
                                                    </td>
                                                    
                                                    <td style="text-align: center;">
                                                        <a (click)="getedit(user.userID)" data-toggle="modal" data-target="#exampleModal" role="button" style="color:azure;font-weight: 500">
                                                            <img src="./assets/img/faces/edit.png" alt="" width="20px" title="View"> </a>
                                                        <!-- get id of records and run event delete -->
                                                        <!-- <a class="delete" style="color:azure; font-weight: 500">
                                                            <img src="./assets/img/faces/delete.png" alt="" width="20px"> </a> -->
                                                        <!-- get id of records and run event edit to move to edit-faculty component -->

                                                        <!-- Modal -->
                                                        
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                                <div class="modal-dialog modal-lg" role="document">
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h3 class="modal-title" id="exampleModalLabel">User Information</h3>
                                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                              <span aria-hidden="true">&times;</span>
                                                       </button>
                                                        </div>
                                                        <div class="modal-body">
                                                            
                                                            <table class="table">
                                                                    <thead>
                                                                        <th></th>
                                                                        <th></th>
                                                                    </thead>
                                                                    <tbody>
                                                                        <tr>
                                                                            <td class="" style="font-weight: bold">Full Name:</td>
                                                                            <td>{{userProfile.fullname}}</td>
                                                                        </tr>
                                                                       
                                                                        <tr>
                                                                                <td style="font-weight: bold">Adress:</td>
                                                                                <td>{{userProfile.address}}</td>
                                                                        </tr>
                                                                        <tr>
                                                                                <td style="font-weight: bold">Birthday:</td>
                                                                                <td>{{userProfile.dob | date:'MM/dd/yyyy'}}</td>
                                                                        </tr>
                                                                        <tr>
                                                                                <td style="font-weight: bold">Phone:</td>
                                                                                <td>{{userProfile.phone}}</td>
                                                                        </tr>
                                                                        <!-- <tr>
                                                                                <td style="font-weight: bold">About me:</td>
                                                                                <td>{{users.aboutMe}}</td>
                                                                        </tr>                                                                                 -->
                                                                    </tbody>   
                                                                </table>                                                                   
                                                            <!-- /// -->
                                                        </div>
                                                        <div class="modal-footer">
                                                            <!-- <button type="button" style="background-color: red;" class="btn btn-primary">Save changes</button> -->
                                                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                    </div>

                                    <div class="card-footer" style="float: right">                                            
                                        <nav aria-label="Page navigation">
                                            <ul class="pagination">
                                                <li class="page-item">
                                                    <button class="page-link" (click)="changePage(1)"
                                                            [disabled]="condition.PageNumber === 1"
                                                            [class.pag-disable]="condition.PageNumber === 1">First
                                                    </button>
                                                </li>
                                                <li class="page-item">
                                                    <button class="page-link active" (click)="previousPage()"
                                                            [disabled]="condition.PageNumber === 1"
                                                            [class.pag-disable]="condition.PageNumber === 1">Previous
                                                    </button>
                                                </li>
                                                <!-- [class.page-item active]="index+1 === condition.PageNumber" -->
                                                <li class="page-item" *ngFor="let item of arrayOne(); let index = index " >
                                                    <button class="page-link" (click)="changePage(index+1)"
                                                            [disabled]="condition.PageNumber === index+1"
                                                            [class.pag-active]="condition.PageNumber === index+1">
                                                        {{index + 1}}
                                                    </button>
                                                    
                                                </li>
                                                <li class="page-item">
                                                    <button class="page-link" (click)="nextPage()"
                                                            [disabled]="condition.PageNumber === totalPage"
                                                            [class.pag-disable]="condition.PageNumber === totalPage">Next
                                                    </button>
                                                </li>
                                                <li class="page-item">
                                                    <button class="page-link" (click)="changePage(totalPage)"
                                                            [disabled]="condition.PageNumber === totalPage"
                                                            [class.pag-disable]="condition.PageNumber === totalPage">Last
                                                    </button>
                                                    
                                                </li>
                                            </ul>
                                        </nav>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>


                </div>
            </div>
        </div>